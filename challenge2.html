<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Code Quest - Challenge 2</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet" />

  <style>
    body {
      background-color: #1e1e1e;
      color: #e0e0e0;
      font-family: 'JetBrains Mono', monospace;
      padding: 2rem;
    }
    .container {
      max-width: 1500px;
      margin: auto;
    }
    h1 {
      margin-bottom: 1rem;
    }
    .problem-description {
      background: #272727;
      padding: 1.5rem;
      border-radius: 8px;
      margin-bottom: 2rem;
    }
    textarea {
      width: 100%;
      height: 200px;
      background: #141414;
      color: #00ffa6;
      border: none;
      border-radius: 6px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 1rem;
      padding: 1rem;
      resize: vertical;
    }
    .console {
      background: #141414;
      color: #00ffa6;
      padding: 1rem;
      border-radius: 6px;
      height: 200px;
      overflow-y: auto;
      white-space: pre-wrap;
      margin-top: 1rem;
      font-size: 0.9rem;
    }
    button {
      margin-top: 1rem;
      background-color: #00bcd4;
      border: none;
      color: white;
      font-weight: bold;
      padding: 0.75rem 1.5rem;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #0097a7;
    }
  </style>
</head>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"></script>

<body>
  <div class="container">
    <h1>Challenge 1: Sum of Two Numbers</h1>

    <div class="problem-description">
      <p><strong>Problem:</strong> Write a JavaScript function <code>sum(a, b)</code> that returns the sum of two numbers.</p>
      <p>Example:</p>
      <pre>sum(3, 5) should return 8</pre>
    </div>

    <label for="code">Write your function below:</label>
    <textarea id="code" spellcheck="false">
// Write your sum function here
function sum(a, b) {
  // Your code
}
    </textarea>
     <div id="button-container" style="display: flex; justify-content: center; gap: 1.5rem; margin-top: 1rem;">
      <button id="prevBtn">⬅️ Previous</button>
      <button id="runBtn">Run Code</button>
      <button id="nextBtn">➡️ Next</button>
    </div>

    <div id="scoreDisplay" style="text-align: center; margin-top: 0.5rem; font-weight: bold;">
      Score: 0 / 25
    </div>

    <div class="console" id="output"></div>
    
  </div>

  <script>
  // ✅ Firebase config — untouched
  const firebaseConfig = {
    apiKey: "AIzaSyBTqasiZ6zn3D2oFdtwQFR8YowBGyUTzoI",
    authDomain: "code-quest-c5cc6.firebaseapp.com",
    projectId: "code-quest-c5cc6",
    storageBucket: "code-quest-c5cc6.firebasestorage.app",
    messagingSenderId: "166511404658",
    appId: "1:166511404658:web:1d78060d55a26eaff884eb"
  };

  // Medium-Level JavaScript Challenges

const tasks = [
  {
    title: "Challenge 1: Palindrome Checker",
    functionName: "isPalindrome",
    test: "isPalindrome('racecar')",
    expected: true,
    description: "Write a function <code>isPalindrome(str)</code> that returns true if the string is a palindrome.",
    example: "isPalindrome('racecar') should return true",
    starterCode: "function isPalindrome(str) {\n  // your code\n}"
  },
  {
    title: "Challenge 2: FizzBuzz",
    functionName: "fizzBuzz",
    test: "fizzBuzz(15)",
    expected: "FizzBuzz",
    description: "Write a function <code>fizzBuzz(n)</code> that returns 'Fizz' if divisible by 3, 'Buzz' if by 5, 'FizzBuzz' if both, else the number.",
    example: "fizzBuzz(15) should return 'FizzBuzz'",
    starterCode: "function fizzBuzz(n) {\n  // your code\n}"
  },
  {
    title: "Challenge 3: Factorial",
    functionName: "factorial",
    test: "factorial(5)",
    expected: 120,
    description: "Write a function <code>factorial(n)</code> that returns the factorial of a number.",
    example: "factorial(5) should return 120",
    starterCode: "function factorial(n) {\n  // your code\n}"
  },
  {
    title: "Challenge 4: Find Duplicates",
    functionName: "findDuplicates",
    test: "findDuplicates([1, 2, 2, 3, 4, 4])",
    expected: [2, 4],
    description: "Write a function <code>findDuplicates(arr)</code> that returns an array of duplicate elements.",
    example: "findDuplicates([1, 2, 2, 3, 4, 4]) should return [2, 4]",
    starterCode: "function findDuplicates(arr) {\n  // your code\n}"
  },
  {
    title: "Challenge 5: Flatten Array",
    functionName: "flattenArray",
    test: "flattenArray([1, [2, [3, 4], 5]])",
    expected: [1, 2, 3, 4, 5],
    description: "Write a function <code>flattenArray(arr)</code> that flattens nested arrays.",
    example: "flattenArray([1, [2, [3, 4], 5]]) should return [1, 2, 3, 4, 5]",
    starterCode: "function flattenArray(arr) {\n  // your code\n}"
  },
  {
    title: "Challenge 6: Anagram Checker",
    functionName: "isAnagram",
    test: "isAnagram('listen', 'silent')",
    expected: true,
    description: "Write a function <code>isAnagram(str1, str2)</code> that checks if two strings are anagrams.",
    example: "isAnagram('listen', 'silent') should return true",
    starterCode: "function isAnagram(str1, str2) {\n  // your code\n}"
  },
  {
    title: "Challenge 7: Capitalize Words",
    functionName: "capitalizeWords",
    test: "capitalizeWords('hello world')",
    expected: "Hello World",
    description: "Write a function <code>capitalizeWords(str)</code> that capitalizes the first letter of each word.",
    example: "capitalizeWords('hello world') should return 'Hello World'",
    starterCode: "function capitalizeWords(str) {\n  // your code\n}"
  },
  {
    title: "Challenge 8: Remove Duplicates",
    functionName: "removeDuplicates",
    test: "removeDuplicates([1, 2, 2, 3])",
    expected: [1, 2, 3],
    description: "Write a function <code>removeDuplicates(arr)</code> that removes duplicate values from an array.",
    example: "removeDuplicates([1, 2, 2, 3]) should return [1, 2, 3]",
    starterCode: "function removeDuplicates(arr) {\n  // your code\n}"
  },
  {
    title: "Challenge 9: Chunk Array",
    functionName: "chunkArray",
    test: "chunkArray([1, 2, 3, 4, 5], 2)",
    expected: [[1, 2], [3, 4], [5]],
    description: "Write a function <code>chunkArray(arr, size)</code> that splits an array into chunks of a given size.",
    example: "chunkArray([1, 2, 3, 4, 5], 2) should return [[1, 2], [3, 4], [5]]",
    starterCode: "function chunkArray(arr, size) {\n  // your code\n}"
  },
  {
    title: "Challenge 10: Count Vowels",
    functionName: "countVowels",
    test: "countVowels('hello world')",
    expected: 3,
    description: "Write a function <code>countVowels(str)</code> that counts the number of vowels in a string.",
    example: "countVowels('hello world') should return 3",
    starterCode: "function countVowels(str) {\n  // your code\n}"
  },
  {
    title: "Challenge 11: Find Longest Word",
    functionName: "longestWord",
    test: "longestWord('The quick brown fox')",
    expected: "quick",
    description: "Write a function <code>longestWord(str)</code> that returns the longest word in a sentence.",
    example: "longestWord('The quick brown fox') should return 'quick'",
    starterCode: "function longestWord(str) {\n  // your code\n}"
  },
  {
    title: "Challenge 12: Sum of Array Elements",
    functionName: "sumArray",
    test: "sumArray([1, 2, 3, 4])",
    expected: 10,
    description: "Write a function <code>sumArray(arr)</code> that returns the sum of all elements in an array.",
    example: "sumArray([1, 2, 3, 4]) should return 10",
    starterCode: "function sumArray(arr) {\n  // your code\n}"
  },
  {
    title: "Challenge 13: Count Occurrences",
    functionName: "countOccurrences",
    test: "countOccurrences([1, 2, 2, 3], 2)",
    expected: 2,
    description: "Write a function <code>countOccurrences(arr, val)</code> that counts the occurrences of a value in an array.",
    example: "countOccurrences([1, 2, 2, 3], 2) should return 2",
    starterCode: "function countOccurrences(arr, val) {\n  // your code\n}"
  },
  {
    title: "Challenge 14: Swap Case",
    functionName: "swapCase",
    test: "swapCase('Hello')",
    expected: "hELLO",
    description: "Write a function <code>swapCase(str)</code> that swaps the case of each character in a string.",
    example: "swapCase('Hello') should return 'hELLO'",
    starterCode: "function swapCase(str) {\n  // your code\n}"
  },
  {
    title: "Challenge 15: Filter Numbers",
    functionName: "filterNumbers",
    test: "filterNumbers(['a', 1, 'b', 2])",
    expected: [1, 2],
    description: "Write a function <code>filterNumbers(arr)</code> that returns only the numbers from an array.",
    example: "filterNumbers(['a', 1, 'b', 2]) should return [1, 2]",
    starterCode: "function filterNumbers(arr) {\n  // your code\n}"
  },
  {
    title: "Challenge 16: Is Prime",
    functionName: "isPrime",
    test: "isPrime(7)",
    expected: true,
    description: "Write a function <code>isPrime(num)</code> that returns true if the number is a prime number.",
    example: "isPrime(7) should return true",
    starterCode: "function isPrime(num) {\n  // your code\n}"
  },
  // Placeholder for more tasks (17-25) coming next...
];

 
    let currentTask = 0;
    let score = 0;

    const runBtn = document.getElementById("runBtn");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const scoreDisplay = document.getElementById("scoreDisplay");
    const codeArea = document.getElementById("code");
    const output = document.getElementById("output");
    const taskTitle = document.querySelector("h1");
    const descriptionBox = document.querySelector(".problem-description");

    const loadTask = (index) => {
      const task = tasks[index];
      taskTitle.textContent = task.title;
      descriptionBox.innerHTML = `
        <p><strong>Problem:</strong> ${task.description}</p>
        <p>Example:</p>
        <pre>${task.example}</pre>
      `;
      codeArea.value = task.starterCode;
      output.textContent = "";
      scoreDisplay.textContent = `Score: ${score} / ${tasks.length}`;
    };

    runBtn.addEventListener("click", () => {
      const task = tasks[currentTask];
      const userCode = codeArea.value;
      try {
        const userFunc = new Function(userCode + "; return " + task.test + ";");
        const result = userFunc();
        if (result === task.expected) {
          output.textContent = `✅ Correct! ${task.test} returned ${result}`;
          output.style.color = "#00ff00";
          score++;
          scoreDisplay.textContent = `Score: ${score} / ${tasks.length}`;
        } else {
          output.textContent = `❌ Incorrect result: ${task.test} returned ${result}`;
          output.style.color = "#ff5555";
        }
      } catch (err) {
        output.textContent = "❌ Error: " + err.message;
        output.style.color = "#ff5555";
      }
    });

    nextBtn.addEventListener("click", () => {
      if (currentTask < tasks.length - 1) {
        currentTask++;
        loadTask(currentTask);
      }
    });

    prevBtn.addEventListener("click", () => {
      if (currentTask > 0) {
        currentTask--;
        loadTask(currentTask);
      }
    });
    // Load initial task
    loadTask(currentTask);
  </script>
</body>
</html>
